{"version":3,"sources":["script.js"],"names":["canvas","document","getElementById","height","body","clientHeight","width","clientWidth","ctx","getContext","balls","_ballRadius","_gravity","_xDrag","onclick","addNewBall","clientX","clientY","push","Ball","randomNumber","positionX","positionY","velocityX","velocityY","position","x","y","velocity","Math","floor","random","setInterval","loop","length","clearRect","forEach","ball","beginPath","arc","PI","fillStyle","fill","closePath","recalculatePosition","abs"],"mappings":"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","file":"script.30dcdc22.js","sourceRoot":"..","sourcesContent":["(function () {\n  const canvas = document.getElementById(\"canvas\");\n  canvas.height = document.body.clientHeight;\n  canvas.width = document.body.clientWidth;\n  const ctx = canvas.getContext(\"2d\");\n  const INTERVAL = (1 / 60) * 1000;\n  const balls = [];\n\n  // Setup some constants stuff\n  const _ballRadius = 5;\n  const _gravity = 0.5; // Acceleration due to gravity\n  const _xDrag = 0.8 / 60;\n\n  // Add click listener\n  canvas.onclick = addNewBall;\n\n  class Ball {\n    constructor(positionX, positionY, velocityX, velocityY) {\n      this.position = { x: positionX, y: positionY };\n      this.velocity = { x: velocityX, y: velocityY };\n    }\n  }\n\n  /**\n   * @param {Event} event\n   */\n  function addNewBall({ clientX, clientY }) {\n    balls.push(new Ball(clientX, clientY, randomNumber(), randomNumber()));\n  }\n\n  function randomNumber() {\n    return Math.floor(Math.random() * 20) - 10;\n  }\n\n  setInterval(loop, INTERVAL);\n\n  function loop() {\n    if (!balls.length) {\n      return;\n    }\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n    balls.forEach(function (ball) {\n      const {\n        position: { x, y },\n      } = ball;\n      // Render ball\n      ctx.beginPath();\n      ctx.arc(x, y, _ballRadius, 0, Math.PI * 2);\n      ctx.fillStyle = \"#000\";\n      ctx.fill();\n      ctx.closePath();\n\n      // Recalculate position for next render\n      recalculatePosition(ball);\n    });\n  }\n\n  /**\n   * Recalculates the position of the ball\n   * @param {Ball} ball\n   */\n  function recalculatePosition(ball) {\n    const { position, velocity } = { ...ball };\n\n    position.x += velocity.x;\n    position.y += velocity.y;\n\n    // If either wall is hit, change direction on x axis and slow down slightly\n    if (\n      position.x - _ballRadius < 0 ||\n      position.x > canvas.width - _ballRadius\n    ) {\n      velocity.x *= -1;\n    }\n\n    // If hits floor\n    if (position.y + _ballRadius > canvas.height) {\n      // Reset ball position on y axis\n      position.y = canvas.height - _ballRadius;\n      velocity.y *= -1;\n      velocity.y *= 0.8;\n\n      // Stop ball from moving at the end\n      if (velocity.y < 0 && velocity.y > -3.5 && velocity.x === 0) {\n        velocity.y = 0;\n      }\n\n      if (Math.abs(velocity.x) < 1.1) {\n        velocity.x = 0;\n      }\n    }\n\n    velocity.y += _gravity;\n\n    if (velocity.x > 0) {\n      velocity.x -= _xDrag;\n    }\n    if (velocity.x < 0) {\n      velocity.x += _xDrag;\n    }\n\n    ball.position = position;\n    ball.velocity = velocity;\n  }\n})();\n"]}